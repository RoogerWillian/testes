<section class="content-header">
  <h1>
    <span>Vendedores</span>
  </h1>
  <ol class="breadcrumb">
    <li><a [routerLink]="['']"><i class="fa fa-home"></i> Home</a></li>
    <li class="active">Vendedores</li>
  </ol>
</section>

<div class="row" style="margin-top: 10px">
  <div class="col-xs-12">
    <div class="box">
      <div class="box-header">
        <div class="box-title">
          <a [routerLink]="['novo']" class="btn btn-default">
            <i class="fa fa-plus-circle"></i>
            <span>Novo vendedor</span>
          </a>
        </div>

        <div class="box-tools">

          <div class="input-group input-group" style="width: 400px;margin-top: 5px">
            <input type="text" name="table_search" class="form-control pull-right" placeholder="Filtre vendedores..."
                   #filtro autofocus>

            <div class="input-group-btn">
              <button type="submit" class="btn btn-default" title="Filtrar"
                      (click)="filtrarVendedores(filtro.value)">
                <i class="fa fa-search"></i>
              </button>

              <button type="submit" class="btn btn-danger" title="Limpar" (click)="limparFiltros()">
                <i class="fa fa-remove"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
      <!-- /.box-header -->
      <hr style="margin-top: 0">

      <div class="box-body table-responsive no-padding">

        <div *ngIf="isBuscandoVendedores()">
          <p style="margin-left: 10px;font-size: 11pt">
            <i class="fa fa-spin fa-refresh"></i>
            <span> Aguarde! Buscando vendedores...</span>
          </p>
        </div>


        <div class="text-center" *ngIf="vendedores && vendedores.length === 0">
          <b>
            <p style="font-size: 13pt">Nenhum(a) vendedor(a) encontrado(a)!</p>
          </b>
        </div>

        <table class="table table-hover" *ngIf="vendedores && vendedores.length > 0">
          <thead>
          <tr>
            <th>ID</th>
            <th>Nome</th>
            <th>Email</th>
            <th>Comissao</th>
            <th></th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let vendedor of vendedores">
            <td>{{vendedor.id}}</td>
            <td>{{vendedor.nome}}</td>
            <td>{{vendedor.email}}</td>
            <td>{{vendedor.comissao | currency: 'BRL':true}}</td>
            <td class="text-right">
              <a [routerLink]="['/vendas/']" [queryParams]="{id: vendedor.id}" class="btn btn-default btn-xs">
                <i class="fa fa-external-link"></i>
                <span>vendas</span>
              </a>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
      <!-- /.box-body -->
    </div>
    <!-- /.box -->
  </div>
</div>
